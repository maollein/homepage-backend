(()=>{"use strict";var e={3124:(e,t,n)=>{var r=n(7294),a=n(3935),o=(n(3710),n(8309),n(2526),n(1817),n(2165),n(1038),n(9753),n(6992),n(1249),n(7042),n(1539),n(8674),n(4916),n(9714),n(8783),n(4765),n(3948),n(5666),n(9669));const c=n.n(o)().create({xsrfCookieName:"CSRF-TOKEN",xsrfHeaderName:"csrf-token"});function u(e,t,n,r,a,o,c){try{var u=e[o](c),i=u.value}catch(e){return void n(e)}u.done?t(i):Promise.resolve(i).then(r,a)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){u(o,r,a,c,i,"next",e)}function i(e){u(o,r,a,c,i,"throw",e)}c(void 0)}))}}var l="/api/blog";const s={getPosts:function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("".concat(l).concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPost:function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("".concat(l,"/").concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),postPost:function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.post(l,t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deletePost:function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.delete("".concat(l,"/").concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getMonths:function(){var e=i(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("".concat(l,"/months"));case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getPostCount:function(){var e=i(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("".concat(l,"/postcount"));case 2:return t=e.sent,n=t.data,e.abrupt("return",n.count);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),updatePost:function(){var e=i(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.put("".concat(l,"/").concat(t),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};var m=n(9242),p=(n(2222),n(3727));const f=function(e){var t=e.content,n=e.actions,o=document.getElementById("modal-root"),c=(0,r.useRef)(document.createElement("div"));(0,r.useEffect)((function(){return c.current.className="modal-outer container-fluid",null==o||o.appendChild(c.current),function(){null==o||o.removeChild(c.current)}}),[]);return(0,a.createPortal)(r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-2 col-lg-3"}),r.createElement("div",{className:"col-12 col-md-8  col-lg-6 p-3 modal-inner"},t,r.createElement("div",null,n.map((function(e){return r.createElement("button",{className:"btn btn-outline-dark mr-2 mt-2 w-auto",type:"button",key:e.name,onClick:e.action},e.name)})))),r.createElement("div",{className:"col-md-2 col-lg-3"})),c.current)};var d=n(9980),v=n.n(d),g=n(7802),h=n.n(g),b=n(6344),y=n.n(b),E=n(308),w=n.n(E),k=n(1533),N=n.n(k);h().registerLanguage("javascript",y()),h().registerLanguage("typescript",N()),h().registerLanguage("python",w());var x=v()({highlight:function(e,t){if(t&&h().getLanguage(t))try{return'<pre class="hljs"><code>'+h().highlight(t,e,!0).value+"</code></pre>"}catch(e){console.log(e)}return'<pre class="hljs"><code>'+x.utils.escapeHtml(e)+"</code></pre>"}}),S=function(e){return e?x.render(e):""},P=function(e){return new Date(e).toLocaleDateString(void 0,{month:"long",year:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})};const O=function(e){var t=e.title,n=e.content,a=e.titleChange,o=e.contentChange,c=e.submitAction,u=e.actions;return r.createElement("form",{className:"mt-3",id:"writer-form",onSubmit:function(e){e.preventDefault(),c.action()}},r.createElement("input",{type:"text",className:"form-control border-dark",placeholder:"Title",value:t,onChange:a}),r.createElement("textarea",{className:"form-control border-dark mt-2",placeholder:"content...",value:n,onChange:o}),r.createElement("button",{disabled:!t||!n,type:"submit",className:"form-control btn btn-outline-dark mt-2 w-auto"},c.name),u.map((function(e){return r.createElement("button",{className:"form-control btn btn-outline-secondary ml-1 mt-2 w-auto",type:"button",key:e.name,onClick:e.action},e.name)})))};function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,u=e[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const A=function(e){var t=e.post,n=e.feed,a=e.user,o=e.deletePost,c=e.savePost,u=j((0,r.useState)(!1),2),i=u[0],l=u[1],s=j((0,r.useState)(t.title),2),m=s[0],d=s[1],v=j((0,r.useState)(t.content),2),g=v[0],h=v[1];return r.createElement("div",{className:"blog-post mb-4"},r.createElement("h2",{className:""},n?r.createElement(p.rU,{className:"text-dark",to:"/blog/".concat(t.id)},t.title):t.title),r.createElement("div",{className:"blog-post-content",dangerouslySetInnerHTML:{__html:S(t.content)}}),r.createElement("footer",{className:"blog-post-footer mt-2 mb-1"},t.modified_at?r.createElement("p",null,"".concat(P(t.created_at),", edited on ").concat(P(t.modified_at))):r.createElement("p",null,P(t.created_at))),a.user&&t.user_id===a.user.id?r.createElement("div",null,r.createElement("button",{onClick:function(){return o(t.id)},className:"btn btn-outline-danger"},"Delete"),r.createElement("button",{onClick:function(){return l(!i)},className:"btn btn-outline-dark ml-2"},"Edit")):null,r.createElement("hr",null),i?r.createElement(f,{content:r.createElement(O,{title:m,content:g,titleChange:function(e){return d(e.target.value)},contentChange:function(e){return h(e.target.value)},submitAction:{name:"Save",action:function(){c(t.id,{title:m,content:g}),l(!1)}},actions:[{name:"Cancel",action:function(){return l(!1)}}]}),actions:[]}):null)};n(7327),n(9554),n(3321),n(9070),n(5003),n(9337),n(7941),n(4747);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I="INIT_BLOG",D="SET_CURRENT_POST",U="ADD_POST",M="DELETE_POST",L="SET_MONTHS",W="SET_POST_COUNT",H="UPDATE_POST",B={posts:[],currentPost:void 0,months:[],postCount:0},$=function(e){return{type:I,payload:{posts:e}}},F=function(e){return{type:D,payload:{post:e}}},J=function(e){return{type:M,payload:{id:e}}},V=function(e){return{type:L,payload:{months:e}}},K=function(e){return{type:W,payload:{postCount:e}}},Y=function(e){return{type:H,payload:{updatedPost:e}}};const z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return T(T({},e),{},{posts:t.payload.posts});case D:return T(T({},e),{},{currentPost:t.payload.post});case U:return T(T({},e),{},{posts:e.posts.concat(t.payload.post)});case M:return T(T({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.payload.id}))});case L:return T(T({},e),{},{months:t.payload.months});case W:return T(T({},e),{},{postCount:t.payload.postCount});case H:return T(T({},e),{},{posts:e.posts.map((function(e){return e.id===t.payload.updatedPost.id?t.payload.updatedPost:e}))});default:return e}};const G=function(){return r.createElement("div",{className:"blog-profile pt-4"},r.createElement("img",{className:"profile-picture pl-3 w-100",src:"/profile_picture.jpg"}),r.createElement("h5",{className:"pl-3 mt-3"},"Matti Leinonen"),r.createElement("p",{className:"pl-3"},"Tässä blogissa kirjoittelen kaikenlaisista kiinnostuksenkohteistani ja ajatuksistani."))};const q=function(e){var t=e.months;return r.createElement("div",{className:"pl-3 mt-3 blog-archive"},r.createElement("h5",null,"Archive"),r.createElement("ul",null,t.map((function(e){return r.createElement("li",{key:e},r.createElement(p.rU,{to:"/blog?month=".concat(e)},new Date(e).toLocaleDateString(void 0,{month:"long",year:"numeric"})))}))))};var Q=n(5977);function X(e,t,n,r,a,o,c){try{var u=e[o](c),i=u.value}catch(e){return void n(e)}u.done?t(i):Promise.resolve(i).then(r,a)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){X(o,r,a,c,u,"next",e)}function u(e){X(o,r,a,c,u,"throw",e)}c(void 0)}))}}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,u=e[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ne=function(){var e=(0,m.v9)((function(e){return e.blogs.posts})),t=(0,m.v9)((function(e){return e.user})),n=(0,m.v9)((function(e){return e.blogs.months})),a=(0,m.v9)((function(e){return e.blogs.postCount})),o=ee((0,r.useState)(void 0),2),c=o[0],u=o[1],i=(0,m.I0)(),l=(0,Q.TH)();(0,r.useEffect)((function(){var e=function(){var e=Z(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.search?l.search:"",e.next=3,s.getPosts(t);case 3:n=e.sent,i($(n));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Z(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getMonths();case 2:t=e.sent,i(V(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Z(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getPostCount();case 2:t=e.sent,i(K(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t(),n()}),[l.search]);var f=function(){var e=Z(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Delete post permanently?")){e.next=10;break}return e.prev=1,e.next=4,s.deletePost(t);case 4:i(J(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),alert(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Z(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.updatePost(t,n);case 3:r=e.sent,i(Y(r)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();return r.createElement("div",{className:"container-fluid h-100"},r.createElement("div",{id:"blog",className:"row h-100"},r.createElement("div",{className:"col-md-12 col-lg-9 pt-4"},e.map((function(e){return r.createElement(A,{key:e.id,post:e,feed:!0,user:t,deletePost:f,savePost:d})})),r.createElement("div",{className:"page-links mb-4"},function(){for(var e=[],t=1;t<Math.ceil(a/5)+1;t++)e.push(r.createElement(p.rU,{key:t,to:"/blog?page=".concat(t)},t));return e}())),r.createElement("div",{className:"".concat(void 0===c?"blog-nav-toggler-closed":!1===c?"blog-nav-toggler-closed slideout-toggler":"blog-nav-toggler-open slidein-toggler"," d-lg-none "),onClick:function(){u(!c)}},r.createElement("button",{className:"nav-toggler-btn bg-dark text-light"},c?r.createElement("span",null,"×"):r.createElement("span",null,"⋮"))),r.createElement("div",{className:"d-lg-none togglable-blog-nav border-left border-dark h-100 ".concat(void 0===c?"d-none":!1===c?"slideout-absolute":"d-block slidein-absolute")},r.createElement("div",{className:"w-100 h-100 pt-4 pr-4 pl-2"},r.createElement(G,null),r.createElement(q,{months:n}))),r.createElement("div",{id:"blog-nav",className:"d-none d-lg-block col-lg-3"},r.createElement("div",{className:"blog-nav border-left border-dark w-100 h-100"},r.createElement(G,null),r.createElement(q,{months:n})))))};const re=function(){return r.createElement("div",{className:"container-fluid mt-4"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-12 col-lg-10"},r.createElement("h2",null,"Matti Leinonen"),r.createElement("img",{className:"w-25 float-left mr-3 home-picture",src:"/profile_picture.jpg"}),r.createElement("p",null,"Tervetuloa kotisivuilleni. Olen vuonna 1992 syntynyt filosofian maisteri. Valmistuin elokuussa 2020 Jyväskylän yliopistosta pääaineenani tietotekniikka. Näiden sivujen tarkoituksena on olla mukava projekti, jonka kautta voin kasvattaa omaa sovelluskehitysosaamistani sekä ilmaista itseäni omassa blogissani. Sivusto on siis jatkuvan kehitystyön alla."))))};function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue="SET_USER",ie="REMOVE_USER",le={user:void 0},se=function(e){return{type:ue,payload:{user:e}}};const me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return oe(oe({},e),{},{user:t.payload.user});case ie:return oe(oe({},e),{},{user:null});default:return e}};function pe(e,t,n,r,a,o,c){try{var u=e[o](c),i=u.value}catch(e){return void n(e)}u.done?t(i):Promise.resolve(i).then(r,a)}function fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){pe(o,r,a,c,u,"next",e)}function u(e){pe(o,r,a,c,u,"throw",e)}c(void 0)}))}}const de={login:function(){var e=fe(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.post("/api/login",{username:t,password:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),logout:function(){var e=fe(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.post("/api/logout");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};function ve(e,t,n,r,a,o,c){try{var u=e[o](c),i=u.value}catch(e){return void n(e)}u.done?t(i):Promise.resolve(i).then(r,a)}const ge=function(e){var t=e.user,n=(0,m.I0)(),a=(0,Q.k6)(),o=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.logout();case 3:sessionStorage.removeItem("user"),n({type:ie}),a.push("/login"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Logout failed! Try again later or clear cookies and session storage.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){ve(o,r,a,c,u,"next",e)}function u(e){ve(o,r,a,c,u,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();return r.createElement("li",{className:"nav-item dropdown"},r.createElement("a",{className:"nav-link dropdown-toggle",id:"user-menu",href:"#",role:"button","data-toggle":"dropdown"},t.name),r.createElement("div",{className:"dropdown-menu dropdown-menu-right"},r.createElement(p.rU,{className:"dropdown-item",to:"/profile"},"Profile"),r.createElement("a",{className:"dropdown-item",id:"user-menu-logout-btn",href:"#",onClick:o},"Sign out")))};const he=function(){var e=(0,m.v9)((function(e){return e.user}));return r.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.createElement(p.rU,{className:"navbar-brand",to:"/home"},"Matti"),r.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#mainNavLinks"},r.createElement("span",{className:"navbar-toggler-icon"})),r.createElement("div",{className:"collapse navbar-collapse",id:"mainNavLinks"},r.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},r.createElement("li",{className:"nav-item"},r.createElement(p.rU,{className:"nav-link",id:"main-nav-home-link",to:"/home"},"Home")),r.createElement("li",{className:"nav-item"},r.createElement(p.rU,{className:"nav-link",id:"main-nav-blog-link",to:"/blog"},"Blog")),e.user?r.createElement("li",{className:"nav-item"},r.createElement(p.rU,{className:"nav-link",id:"main-nav-writer-link",to:"/writer"},"Writer")):null),r.createElement("ul",{className:"navbar-nav ml-auto mt-2 mt-lg-0"},e.user?r.createElement(ge,{user:e.user}):r.createElement("li",{className:"nav-item"},r.createElement(p.rU,{className:"nav-link",to:"/login"},"Sign in")))))};n(3734),n(9653);function be(e,t,n,r,a,o,c){try{var u=e[o](c),i=u.value}catch(e){return void n(e)}u.done?t(i):Promise.resolve(i).then(r,a)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){be(o,r,a,c,u,"next",e)}function u(e){be(o,r,a,c,u,"throw",e)}c(void 0)}))}}const Ee=function(){var e=(0,Q.UO)().id,t=(0,m.I0)(),n=(0,Q.k6)(),a=(0,m.v9)((function(e){return e.blogs.currentPost})),o=(0,m.v9)((function(e){return e.user}));(0,r.useEffect)((function(){var n=function(){var n=ye(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.getPost(e);case 2:r=n.sent,t(F(r));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();a&&a.id===Number(e)||n()}),[]);var c=function(){var e=ye(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Delete post permanently?")){e.next=5;break}return e.next=3,s.deletePost(r);case 3:t(J(r)),n.push("/blog");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=ye(regeneratorRuntime.mark((function e(n,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.updatePost(n,r);case 2:a=e.sent,t(Y(a)),t(F(a));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return a?r.createElement("div",{className:"mt-4 container-fluid",id:"blog-post-page"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-12 col-lg-10"},r.createElement(A,{post:a,feed:!1,user:o,deletePost:c,savePost:u})))):null};function we(e,t,n,r,a,o,c){try{var u=e[o](c),i=u.value}catch(e){return void n(e)}u.done?t(i):Promise.resolve(i).then(r,a)}function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,u=e[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const xe=function(){var e=ke((0,r.useState)(""),2),t=e[0],n=e[1],a=ke((0,r.useState)(""),2),o=a[0],c=a[1],u=(0,m.I0)(),i=(0,Q.k6)(),l=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,de.login(t,o);case 4:r=e.sent,sessionStorage.setItem("user",JSON.stringify(r)),u(se(r)),i.push("/home"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),alert(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){we(o,r,a,c,u,"next",e)}function u(e){we(o,r,a,c,u,"throw",e)}c(void 0)}))});return function(e){return n.apply(this,arguments)}}();return r.createElement("div",{className:"card mx-auto w-75 mt-4 border-dark"},r.createElement("form",{className:"card-body w-75 mx-auto",onSubmit:l},r.createElement("h3",null,"Sign in"),r.createElement("div",{className:"form-group mt-3"},r.createElement("input",{className:"form-control border-dark",id:"login-username-input",type:"text",placeholder:"username",value:t,onChange:function(e){return n(null==e?void 0:e.target.value)}})),r.createElement("div",{className:"form-group"},r.createElement("input",{className:"form-control border-dark",id:"login-password-input",type:"password",placeholder:"password",value:o,onChange:function(e){return c(null==e?void 0:e.target.value)}})),r.createElement("div",{className:"form-group"},r.createElement("button",{className:"btn btn-outline-dark",id:"login-btn",type:"submit"},"Sign in"))))};const Se=function(e){var t=e.title,n=e.content;return t||n?r.createElement("div",{className:"mt-3 border border-dark p-3"},r.createElement("h2",null,t),r.createElement("div",{dangerouslySetInnerHTML:{__html:S(n)}})):null};function Pe(e,t,n,r,a,o,c){try{var u=e[o](c),i=u.value}catch(e){return void n(e)}u.done?t(i):Promise.resolve(i).then(r,a)}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,u=e[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Re=function(){var e=Oe((0,r.useState)(""),2),t=e[0],n=e[1],a=Oe((0,r.useState)(""),2),o=a[0],c=a[1],u=(0,m.I0)(),i=(0,Q.k6)(),l=function(){var e,r=(e=regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.postPost({title:t,content:o});case 3:r=e.sent,u({type:U,payload:{post:r}}),c(""),n(""),i.push("/blog"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){Pe(o,r,a,c,u,"next",e)}function u(e){Pe(o,r,a,c,u,"throw",e)}c(void 0)}))});return function(){return r.apply(this,arguments)}}();return r.createElement("div",null,r.createElement("h3",{className:"mt-4"},"Write a post"),r.createElement(O,{title:t,content:o,titleChange:function(e){n(e.target.value)},contentChange:function(e){c(e.target.value)},submitAction:{name:"Publish",action:l},actions:[]}),r.createElement(Se,{title:t,content:o}))};const Ae=function(){var e=(0,m.I0)(),t=(0,m.v9)((function(e){return e.user}));return(0,r.useEffect)((function(){var t,n=(t=sessionStorage.getItem("user"))?JSON.parse(t):null;n&&e(se(n))}),[]),r.createElement(p.VK,null,r.createElement(he,null),r.createElement("div",{className:"container-fluid"},r.createElement("div",{className:"row h-100"},r.createElement("div",{className:"d-none d-lg-block col-lg-2"}),r.createElement("div",{className:"col-md-12 col-lg-8"},r.createElement(Q.rs,null,r.createElement(Q.AW,{path:"/home"},r.createElement(re,null)),r.createElement(Q.AW,{path:"/blog/:id"},r.createElement(Ee,null)),r.createElement(Q.AW,{path:"/blog"},r.createElement(ne,null)),r.createElement(Q.AW,{path:"/login"},t.user?r.createElement(Q.l_,{to:"/profile"}):r.createElement(xe,null)),r.createElement(Q.AW,{path:"/profile"},t.user?r.createElement("div",null,r.createElement("h3",null,t.user.name)):r.createElement(Q.l_,{to:"/login"})),r.createElement(Q.AW,{path:"/writer"},r.createElement(Re,null)),r.createElement(Q.AW,{path:"/"},r.createElement(re,null)))),r.createElement("div",{className:"d-none d-lg-block col-lg-2"}))),r.createElement("footer",{id:"main-footer"},"© Matti Leinonen ",(new Date).getFullYear()))};var Ce=n(4890),Te=n(8500),_e=(0,Ce.UY)({blogs:z,user:me});const Ie=(0,Ce.MT)(_e,(0,Te.Uo)());a.render(r.createElement(m.zt,{store:Ie},r.createElement(Ae,null)),document.getElementById("root"))}},t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={179:0},t=[[3124,736]],r=()=>{};function a(){for(var r,a=0;a<t.length;a++){for(var o=t[a],c=!0,u=1;u<o.length;u++){var i=o[u];0!==e[i]&&(c=!1)}c&&(t.splice(a--,1),r=n(n.s=o[0]))}return 0===t.length&&(n.x(),n.x=()=>{}),r}n.x=()=>{n.x=()=>{},c=c.slice();for(var e=0;e<c.length;e++)o(c[e]);return(r=a)()};var o=a=>{for(var o,c,[i,l,s,m]=a,p=0,f=[];p<i.length;p++)c=i[p],n.o(e,c)&&e[c]&&f.push(e[c][0]),e[c]=0;for(o in l)n.o(l,o)&&(n.m[o]=l[o]);for(s&&s(n),u(a);f.length;)f.shift()();return m&&t.push.apply(t,m),r()},c=self.webpackChunkhomepage_frontend=self.webpackChunkhomepage_frontend||[],u=c.push.bind(c);c.push=o})(),n.x()})();